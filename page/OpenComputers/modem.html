<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation</title>
    <link rel="stylesheet" href="./../../css/styles.css">
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
</head>
<body>
    <header>
        <h1>Component : modem</h1>
        <div>
            <div>
                <a href="./../../index.html"><img src="./../../images/logo.png" alt="logo"></a>
            </div>
            <nav>
                <ul>
                    <li><a href="./../../index.html">Home</a></li>
                    <li><a href="./../../about.html">About</a></li>
                    <li><a href="./../../contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <article>
            <h2>Description</h2>
            <p>This component is provided by network cards.</p>
            <p>Component name: <code> modem</code>.</p>
        </article>
        <article>
            <h2>Methods</h2>
            <ul>
                <li>
                    <code>isWireless(): boolean</code> Returns whether this modem is capable of sending wireless messages.
                </li>
                <li>
                    <code>maxPacketSize(): number</code> Returns the maximum packet size for sending messages via network cards. Defaults to 8192. You can change this in the OpenComputers configuration file.<br />
                    Every value in a message adds two bytes of overhead. (Even if there's only one value.)<br />
                    Numbers add another 8 bytes, true/false/nil another 4 bytes, and strings exactly as many bytes as the string contains—though empty strings still count as one byte.<br />
                    Examples:<br />
                    "foo" is a 5-byte packet; two bytes of overhead and a three byte string.<br />
                    "currentStatus",300 is a 25-byte packet; four bytes overhead, a 13-byte string, and 8 bytes for a number.
                </li>
                <li>
                    <code>isOpen(port: number): boolean</code> Returns whether the specified “port” is currently being listened on. Messages only trigger signals when they arrive on a port that is open.
                </li>
                <li>
                    <code>open(port: number): boolean</code> Opens the specified port number for listening. Returns true if the port was opened, false if it was already open. Note: maximum port is 65535
                </li>
                <li>
                    <code>close([port: number]): boolean</code> Closes the specified port (default: all ports). Returns true if ports were closed.
                </li>
                <li>
                    <code>send(address: string, port: number[, ...]): boolean</code> Sends a network message to the specified address. Returns true if the message was sent. This does not mean the message was received, only that it was sent. No port-sniffing for you.<br />
                    Any additional arguments are passed along as data. These arguments must be basic types: nil, boolean, number and string values are supported, tables and functions are not. See the serialization API for serialization of tables.<br />
                    The number of additional arguments is limited. The default limit is 8. It can be changed in the OpenComputers configuration file, but this is not recommended; higher limits can allow relatively weak computers to break relatively strong ones with no defense possible, while lower limits will prevent some protocols from working.<br />
                </li>
                <li>
                    <code>broadcast(port: number, ...): boolean</code> Sends a broadcast message. This message is delivered to all reachable network cards. Returns true if the message was sent. Note that broadcast messages are not delivered to the modem that sent the message.
                    All additional arguments are passed along as data. See send.
                </li>
                <li>
                    <code>getStrength(): number</code> The current signal strength to apply when sending messages. Wireless network cards only.
                </li>
                <li>
                    <code>setStrength(value: number): number</code> Sets the signal strength. If this is set to a value larger than zero, sending a message will also generate a wireless message. The higher the signal strength the more energy is required to send messages, though. Wireless network cards only.
                </li>
                <li>
                    <code>getWakeMessage():string</code> Gets the current wake-up message. When the network card detects the wake message (a string in the first argument of a network packet), on any port and the machine is off, the machine is started. Works for robots, cases, servers, drones, and tablets. Linked Cards provide this same functionality.
                </li>
                <li>
                    <code>setWakeMessage(message: string, [fuzzy: boolean]):string</code> Sets the wake-up message to the specified string. The message matching can be fuzzy (default is false). A fuzzy match ignores additional trailing arguments in the network packet.
                </li>
            </ul>
        </article>
        <article>
            <h2>Events</h2>
            <ul>
                <li>
                    <code>modem_message(receiverAddress: string, senderAddress: string, port: number, distance: number, ...)</code> <p>This signal is queued by network cards (including wireless ones) when they receive a message on an open port. </p> <br />
                    <code>receiverAddress</code> is the address of the network card that received the message.<br />
                    <code>senderAddress</code> is the address from where the message was sent.<br />
                    <code>port</code> is the port on which the message was received.<br />
                    <code>distance</code> is the distance only set when receiving wireless network messages.<br />
                    <code>All further parameters</code> are user defined and correspond to what the sender specified in modem.send() or modem.broadcast() as the message's payload.<br />
                </li>
            </ul>
        </article>
        <article>
            <h2>Example</h2>
            <pre>
            <code class="language-lua">
-- <a href="https://ocdoc.cil.li/component:modem" target="_blank">https://ocdoc.cil.li/component:modem</a>
local component = require("component")
local event = require("event")
local m = component.modem -- get primary modem component
m.open(123)
print(m.isOpen(123)) -- true
-- Send some message.
m.broadcast(123, "this is a test")
-- Wait for a message from another network card.
local _, _, from, port, _, message = event.pull("modem_message")
print("Got a message from " .. from .. " on port " .. port .. ": " .. tostring(message))
</code>
</pre>
        </article>
    </main>
    <footer>
        <p>copyright 2023 - Documentation</p>
    </footer>
    <script src="./../../js/prism.js"></script>
</body>
</html>