<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation</title>
    <link rel="stylesheet" href="./../../css/styles.css">
    <link rel="icon" type="image/x-icon" href="./../../images/favicon.ico">
</head>
<body>
    <header>
        <h1>Component : Open Light</h1>
        <div>
            <div>
                <a href="./../../index.html"><img src="./../../images/logo.png" alt="logo"></a>
            </div>
            <nav>
                <ul>
                    <li><a href="./../../index.html">Home</a></li>
                    <li><a href="./../../about.html">About</a></li>
                    
                </ul>
            </nav>
        </div>
    </header><canvas id="c"></canvas>
    <main>
        <article>
            <h2>Description</h2>
            <p>This is the component provided by the open light block.</p>
            <p>Component name: <code> openlight</code>.</p>
        </article>
        <article>
            <h2>Methods</h2>
            <ul>
                <li>
                    <code>setBrightness(brighness:number):number</code> Set the brightness of the light. Returns the new brightness.
                </li>
                <li>
                    <code>getBrightness():number</code> Get the brightness of the light.
                </li>
                <li>
                    <code>setColor(color:number):string</code> Set the light color as an RGB value. Returns the new color as an RGB hex string. Use `tonumber(value, 16)' to convert return value to a usable numeric value.
                </li>
                <li>
                    <code>getColor():string</code> Get the light color as an RGB hex string. Use `tonumber(value, 16)' to convert return value to a usable numeric value.
                </li>
            </ul>
        </article>
        <article>
            <h2>Example</h2>
            <p>Here is a hsv script</p>
            <pre>
            <code class="language-lua">
light = require("component").openlight

function rgb_to_hex(r, g, b)
    -- Ensure values are within 0 to 255 range
    r = math.max(0, math.min(255, r))
    g = math.max(0, math.min(255, g))
    b = math.max(0, math.min(255, b))
    
    return r * 65536 + g * 256 + b
end
function deg_to_hsv(d)
    if d < 0 then d = d+360 end    
    if d > 360 then d = d-360 end
    
    if d > 0 and d < 60 then
        return d*4.25
    elseif d < 180 then
        return 255
    elseif d < 240 then
        return (240-d)*255
    else 
        return 0
    end
end
light.setBrightness(15)

while true do 
    for n = 0,360,1 do
        local r = deg_to_hsv(n+120)
        local g = deg_to_hsv(n)
        local b = deg_to_hsv(n-120)
        light.setColor(rgb_to_hex(r,g,b))
        require("os").sleep(0.1)
    end
end                  

                </code>
</pre>
        </article>
    </main>
    <footer>
        <p>copyright 2023 - Documentation</p>
    </footer>
    <script src="./../../js/background.js"></script>
    <script src="./../../js/prism.js"></script>
</body>
</html>